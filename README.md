# 백엔드 생존코스 2주차 과제

## REST API 설계

### 예시

- 게시글 조회 `GET /posts`
- 게시글 작성 `POST /posts`
- 게시글 수정 `PATCH /posts/{id}`
- 게시글 삭제 `DELETE /posts/{id}`
    - 이유 : ex) - “정확히 어떤 리소스를 다루려고 한 거다, 왜냐면 이런 저런 고민을 했는데 이런 결론이 났기 때문이다. 따라서 Collection Pattern에 따르면 이 모양이 된다.”

### 로그인/회원가입

- 로그인 `POST /session`
- 로그아웃 `DELETE /session`
    - 로그인과 로그아웃 시에는 세션을 추가되면 로그인이 되고, 세션이 삭제되면 로그아웃시킨다는 의미에서 저렇게 작성함. session은 하나만 관리해서 단수형으로 작성.
- 회원가입 `POST /users `
    - 사용자들목록에 사용자가 추가되는 것이 회원가입이다. 따라서 위처럼 /users까지 표기하고, 회원가입에 필요한 정보는 request body에 담는다.

### 내 정보

- 내 정보  `GET /users/me`
- 내 정보 수정  `PUT /users/me`
    - 나라는 리소스를 가장 잘 필요한것이 me라고 생각했다. 그리고 그러한 나는 사용자(users에 포함된다.) 나는 항상 단수이므로 저렇게 표현할수 있다.

### 상품

- 상품 목록 `GET /products `
- 상품 상세 `GET /products/{id}`

### 상품 리뷰

- 상품에 리뷰 작성 `POST /reviews`
    - 어떠한 상품에 등록할지 정보는 request body에 명시한다.
- 상품에 리뷰 수정 `PUT /reviews/{id}`
- 상품에 리뷰 삭제 `DELETE /reviews/{id}`

### 장바구니

- 장바구니에 상품 추가 `POST /cart/products/{id}`
    - 아무리 고민해도 nested path를 안쓰고 Rest API로 표기할수 없었다. 일단 쇼핑몰 환경에서 보통 장바구니는 단수로 관리되고, 장바구니내에 담긴 상품이라는 의미로 nested 하게 표시하였다.
- 장바구니에 상품 삭제 `DELETE /cart/products/{id}`
- 장바구니 (담긴 상품 목록) `GET /cart/products`

### 주문하기

- 주문하기 `POST /orders`
    - 사용자의 주문목록에 주문이 추가된다.
- 주문 목록 `GET /orders`

## 질문과 답변

> 화면 URL과 API의 URL이 일치해야 할까? 달라야 한다면 그 이유는 무엇일까?

* 일치할 수도 있지만, 보통은 일치하지 않을 것이다.
* 그 이유는 같은 화면에서도 여러가지 API가 불릴수도 있고, 이들을 구분하기 위해서라도 일치하면 안될 것이다.
* 또한 API가 요구하는 바를 URL에 분명히 담았을 경우와 화면이 의미하는 바를 URL에 분명하게 담았다면, 일치하지 않을 확률이 높을 것이다.

> 서버는 API 요청을 받을 때 사용자가 누구인지 어떻게 알 수 있을까?

* 요청에 포함된 사용자 관련 정보를 토대로 알 수 있습니다.
* 그것은 header에 담긴 세션아이디일수도 있고, header에 담긴 토큰 정보일수도 있고, queryparameter에 담긴 사용자 이름일수도 있습니다.

> API 요청으로 다른 사람의 정보를 함부로 볼 수 없게 하려면 어떻게 해야 할까?

* https 프로토콜을 이용하여, 종단간의 보안을 유지할 수 있습니다!